language: go
go:
- 1.12

env:
  global:
  - GO111MODULE=on
  - secure: "KUAqauk/FjZO9FsKnhNCZwx97TRZ4ZZptDt13CsNdep/oNyhLjMVMbKX5rqNw+nPY8f0CE7dZfSb2vDneISR7pJAGQLpK6PoIMfhorbi9jrAcV8EddafiOYFySGkSNfGNEXi05IVSyd6OOYHt/Tx2guq83ylM/YpCyg1U84AuthndVbtiVwBDFWxVvgpHCn5tIqqpdaQDi6x0lWDdkqdUDcm16FSVa4wjHlzohZ0ll1V8kJXmyqcM6rE3ee2ozy6keZSYUL5Wjfusqnd5xMU9AL5LzoiyINONPvR/j/d9i1bp6iDeSNEkzEaP+B0hRSUC1AwiVZ6VbVF71zxxp9N8xtDYcjZPSZNGGfyym+CbSSSHIL5eAWXBvg4wVKPQhMIDsHMEBdpBmgOSI7zAOhDI8HO/qLi18LVfJof0VuVXOBza1efEu8ioQUd1A0bV0HIA60RobduuJVYub8FQ2LvlEWCpSGk84C3Q0WAJFxRU75UllBqfL4w7QhtT/hmOFP0kb7MHF1HirxfaLO5jZIzpd4jLLUn6SWSa697jZHHVL8aJpKmnJ5RI6S2JMQUOHW3D7zsqxPAe7UM4EjRg/9ZNpEdTt8N4F82Wl7tJAbFqKRQpKdJrwvQhIjy5EYxE+5sm/XOwbVQPPXgIiTtBtk2FekIQ+ZMiDRG1v8R2AbN9NQ="

before_script:
- go get github.com/mattn/goveralls

script:
- make test build
- "$GOPATH/bin/goveralls -coverprofile=coverage.out -service=travis-ci -repotoken $COVERALLS_TOKEN"
